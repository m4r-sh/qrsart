class M{constructor(_=64,h=[],X=[]){if(_<1)throw new Error("Capacity must be positive");if(this._capacity=_,this._objects=new Array(_+1),this._priorities=new Float64Array(_+1),this.length=h.length,h.length!==X.length)throw new Error("Objects/priorities mismatch");if(_<h.length)throw new Error("Capacity too small");for(let O=0;O<h.length;O++)this._objects[O+1]=h[O],this._priorities[O+1]=X[O];for(let O=h.length>>>1;O>=1;O--)this.#h(O)}get capacity(){return this._capacity}clear(){this.length=0}size(){return this.length}#_(_){let h=this._objects[_],X=this._priorities[_];while(_>1){let O=_>>>1;if(this._priorities[O]<=X)break;this._objects[_]=this._objects[O],this._priorities[_]=this._priorities[O],_=O}this._objects[_]=h,this._priorities[_]=X}#h(_){let h=this._objects[_],X=this._priorities[_],O=1+(this.length>>>1),R=this.length+1-1;while(_<O){let T=_<<1,I=this._priorities[T],E=this._objects[T],N=T,D=T+1;if(D<=R&&this._priorities[D]<I)I=this._priorities[D],E=this._objects[D],N=D;if(I>=X)break;this._objects[_]=E,this._priorities[_]=I,_=N}this._objects[_]=h,this._priorities[_]=X}push(_,h){if(this.length===this._capacity)throw new Error("Heap full");let X=this.length+1;this._objects[X]=_,this._priorities[X]=h,this.length++,this.#_(X)}pop(){if(!this.length)return;let _=this._objects[1];if(this._objects[1]=this._objects[this.length+1-1],this._priorities[1]=this._priorities[this.length+1-1],this.length--,this.length>0)this.#h(1);return _}peekPriority(){return this._priorities[1]}peek(){return this._objects[1]}consider(_,h){if(this.length<this._capacity)this.push(h,_);else if(_>this._priorities[1])this._objects[1]=h,this._priorities[1]=_,this.#h(1)}extractAll(){let _=[];while(this.length>0){let h=this._priorities[1],X=this.pop();_.unshift({score:h,object:X})}return _}}var f={case(_="",{enableCaps:h=!1}={}){if(!h)return{total:1,get:(O)=>_};let X=[];for(let O=0;O<_.length;O++)if(_[O].toLowerCase()!==_[O].toUpperCase())X.push(O);return{total:2**X.length,get:(O)=>{let R=_.split("");for(let T=0;T<X.length;T++){let I=X[T];R[I]=O>>T&1?_[I].toUpperCase():_[I].toLowerCase()}return R.join("")}}},group(_=[],{join:h=""}={}){let X=_.map((O)=>typeof O.total==="number"?O.total:1);return{total:X.reduce((O,R)=>O*R,1),get:(O)=>{let R=O,T=[];for(let I=_.length-1;I>=0;I--){let E=X[I],N=R%E;R=Math.floor(R/E),T.unshift(typeof _[I]==="string"?_[I]:_[I].get(N))}return T.join(h)}}},url(_="",{protocolCaps:h=!1,domainCaps:X=!1,pathCaps:O=!1}={}){let[R,T,I,E,N,D]=_.match(/^(https?:\/\/)?([^\/]+)(\/[^?#]*)?(\?[^#]*)?(#.*)?$/i);if(!T||!I)throw"invalid url";let J=f.case(T,{enableCaps:h}),H=f.case(I,{enableCaps:X}),Z=f.case(E||"/",{enableCaps:O}),Y=f.group([J,H,Z]);return{total:Y.total,get:(Q)=>Y.get(Q)+(N||"")+(D||"")}},phone(_="0123456789",{forceCountry:h=!1,validSpacers:X=[""],prefixCaps:O=!1}={}){},email(_="someone@example.com",{perfixCaps:h=!1,domainCaps:X=!1}={}){},emailMessage(_="",{prefixCaps:h=!1,domainCaps:X=!1,queryCaps:O=!1,queryOrdering:R=!0}={}){},sms(_="0123456789",{forceCountry:h=!1,validSpacers:X=[""],prefixCaps:O=!1,queryCaps:R=!1}={}){},wifi({name:_="",pwd:h=""}){let X=["T:WPA","S:"+_,"P:"+h],O=[[0,1,2],[0,2,1],[1,0,2],[1,2,0],[2,1,0],[2,0,1]];return{total:O.length,get:(R)=>`WIFI:${O[R].map((T)=>X[T]).join(";")};;`}},vcard({name:_="",phone:h="",email:X=""},{}={}){},event({summary:_,dtstart:h},{}={}){},geo({latitude:_="",longitude:h=""}={},{}={}){},bitcoin({address:_,amount:h},{prefixCaps:X=!0,queryCaps:O=!0,queryOrder:R=!0}={}){},ethereum({address:_,amount:h},{prefixCaps:X=!0,queryCaps:O=!0,queryOrder:R=!0}={}){}};var A=[{formatBits:1,codewords_per_block:[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],num_ecc_blocks:[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25]},{formatBits:0,codewords_per_block:[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],num_ecc_blocks:[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49]},{formatBits:3,codewords_per_block:[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],num_ecc_blocks:[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68]},{formatBits:2,codewords_per_block:[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],num_ecc_blocks:[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]}];var z=[(_,h)=>(_+h)%2==0,(_,h)=>h%2==0,(_,h)=>_%3==0,(_,h)=>(_+h)%3==0,(_,h)=>(Math.floor(_/3)+Math.floor(h/2))%2==0,(_,h)=>_*h%2+_*h%3==0,(_,h)=>(_*h%2+_*h%3)%2==0,(_,h)=>((_+h)%2+_*h%3)%2==0];class ${constructor(_,h){this.w=_,this.h=h,this.data=new Uint8Array(Math.ceil(_*h/4))}#_(_,h){let X=h*this.w+_;return[X>>2,(X&3)<<1]}set(_=0,h=0,X=1){if(_<0||_>=this.w||h<0||h>=this.h)return;let[O,R]=this.#_(_,h),T=3<<R,I=(X&1)<<R|1<<R+1;this.data[O]=this.data[O]&~T|I}get(_=0,h=0){if(_<0||_>=this.w||h<0||h>=this.h)return 0;let[X,O]=this.#_(_,h);return this.data[X]>>O&1}used(_=0,h=0){if(_<0||_>=this.w||h<0||h>=this.h)return 0;let[X,O]=this.#_(_,h);return this.data[X]>>O+1&1}*tiles(_=null){let{w:h,h:X,data:O}=this,R=h*X;for(let T=0;T<O.length;T++){let I=O[T];if(I===0)continue;let E=T<<2;for(let N=0;N<4;N++){let D=E+N;if(D>=R)break;let J=N<<1;if(!(I&2<<J))continue;let Z=I&1<<J;if(_==null||!_==!Z)yield[D%h,Math.floor(D/h)]}}}static union(..._){let h=Math.max(..._.map((R)=>R.w)),X=Math.max(..._.map((R)=>R.h)),O=new $(h,X);for(let R of _)for(let[T,I]of R.tiles())if(!O.get(T,I))O.set(T,I,R.get(T,I));return O}static erase(_,...h){let X=new $(_.w,_.h);for(let[O,R]of _.tiles())if(!h.some((T)=>T.used(O,R)))X.set(O,R,_.get(O,R));return X}static intersect(_,...h){let X=new $(_.w,_.h);for(let[O,R]of _.tiles())if(h.every((T)=>T.used(O,R)))X.set(O,R,_.get(O,R));return X}}class j{constructor({version:_=2,ecl:h=0,mask:X=0,codewords:O=new Uint8Array}={}){this.version=_,this.ecl=h,this.mask=X,this.codewords=O}get size(){return this.version*4+17}get functional_grid(){let{finder_grid:_,timing_grid:h,alignment_grid:X,version_grid:O,format_grid:R}=this;return $.union(_,h,X,O,R)}get finder_grid(){let{size:_}=this,h=new $(_,_);for(let X=0;X<8;X++)for(let O=0;O<8;O++){let R=Math.max(Math.abs(3-X),Math.abs(3-O))!=2&&!(X==7||O==7);h.set(X,O,R),h.set(_-X-1,O,R),h.set(X,_-O-1,R)}return h}get timing_grid(){let{size:_}=this,h=new $(_,_);for(let X=8;X<=_-8;X++){let O=X%2==0;h.set(6,X,O),h.set(X,6,O)}return h}get alignment_positions(){let{version:_,size:h}=this;if(_==1)return[];let X=Math.floor(_/7)+2,O=_==32?26:Math.ceil((_*4+4)/(X*2-2))*2,R=[6];for(let T=h-7;R.length<X;T-=O)R.splice(1,0,T);return R}get alignment_grid(){let{version:_,size:h,alignment_positions:X}=this,O=new $(h,h),R=X.length;for(let T=0;T<R;T++)for(let I=0;I<R;I++)if(!(T==0&&I==0||T==0&&I==R-1||T==R-1&&I==0))for(let E=-2;E<=2;E++)for(let N=-2;N<=2;N++){let D=Math.max(Math.abs(N),Math.abs(E))==1?0:1;O.set(X[T]+N,X[I]+E,D)}return O}get format_grid(){let{ecl:_,mask:h,size:X}=this,O=new $(X,X),R=A[_].formatBits<<3|h,T=R;for(let E=0;E<10;E++)T=T<<1^(T>>>9)*1335;let I=(R<<10|T)^21522;for(let E=0;E<=5;E++)O.set(8,E,I>>E);O.set(8,7,I>>6),O.set(8,8,I>>7),O.set(7,8,I>>8);for(let E=9;E<15;E++)O.set(14-E,8,I>>E);for(let E=0;E<8;E++)O.set(this.size-1-E,8,I>>E);for(let E=8;E<15;E++)O.set(8,this.size-15+E,I>>E);return O.set(8,this.size-8,1),O}get version_grid(){let{version:_,size:h}=this,X=new $(h,h);if(_<7)return X;let O=_;for(let T=0;T<12;T++)O=O<<1^(O>>>11)*7973;let R=_<<12|O;for(let T=0;T<18;T++){let I=h-11+T%3,E=Math.floor(T/3);X.set(I,E,R>>T),X.set(E,I,R>>T)}return X}get data_grid(){let{size:_,functional_grid:h,codewords:X,mask:O}=this,R=new $(_,_),T=0;for(let I=_-1;I>=1;I-=2){if(I===6)I=5;for(let E=0;E<_;E++)for(let N=0;N<2;N++){let D=I-N,H=(I+1&2)===0?_-1-E:E;if(!h.used(D,H)){let Y=0;if(T<X.length*8){let Q=Math.floor(T/8),V=7-T%8;Y=X[Q]>>V&1}Y^=z[O](D,H),R.set(D,H,Y),T++}}}return R}get grid(){let{functional_grid:_,data_grid:h}=this;return $.union(_,h)}static create(){}static save(){}static load(){}toString(){return`(QRCode) version:${this.version}, ecl:${this.ecl}, mask:${this.mask}`}[Bun.inspect.custom](){return`(QRCode) version:${this.version}, ecl:${this.ecl}, mask:${this.mask}`}}var y=/^[0-9]*$/,u=/^[A-Z0-9 $%*+.\/:-]*$/;var x=new TextEncoder,q={numeric:{modeBits:1,charCost:(_)=>y.test(_)?3.3333333333333335:1/0,numCharCountBits:(_)=>[10,12,14][Math.floor((_+7)/17)],write(_){let h=[];for(let X=0;X<_.length;){let O=Math.min(_.length-X,3);U(parseInt(_.substr(X,O),10),O*3+1,h),X+=O}return h.slice()}},alpha:{modeBits:2,charCost:(_)=>u.test(_)?5.5:1/0,numCharCountBits:(_)=>[9,11,13][Math.floor((_+7)/17)],write(_){let h=[],X;for(X=0;X+2<=_.length;X+=2){let O="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(_.charAt(X))*45;O+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(_.charAt(X+1)),U(O,11,h)}if(X<_.length)U("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(_.charAt(X)),6,h);return h.slice()}},byte:{modeBits:4,charCost:(_)=>v(_)*8,numCharCountBits:(_)=>[8,16,16][Math.floor((_+7)/17)],test:(_)=>!0,write(_){let h=x.encode(_),X=[];for(let O of h)U(O,8,X);return X.slice()}}};function U(_,h,X){while(h>31)U(_>>>h-31,31,X),h-=31;if(_>>>h!==0)throw new RangeError("Value out of range");for(let O=h-1;O>=0;O--)X.push(_>>>O&1)}function v(_){let h=_.codePointAt(0);if(h<0)throw"invalid";else if(h<128)return 1;else if(h<2048)return 2;else if(h<65536)return 3;else if(h<1114112)return 4;else throw"invalid"}function w(_){if(_<1||_>255)throw new RangeError("Degree out of range");let h=[];for(let O=0;O<_-1;O++)h.push(0);h.push(1);let X=1;for(let O=0;O<_;O++){for(let R=0;R<h.length;R++)if(h[R]=G(h[R],X),R+1<h.length)h[R]^=h[R+1];X=G(X,2)}return h}function B(_,h){let X=h.map((O)=>0);for(let O of _){let R=O^X.shift();X.push(0),h.forEach((T,I)=>X[I]^=G(T,R))}return X}function G(_,h){if(_>>>8!=0||h>>>8!=0)throw new RangeError("Byte out of range");let X=0;for(let O=7;O>=0;O--)X=X<<1^(X>>>7)*285,X^=(h>>>O&1)*_;return X}function c(_,{minVersion:h=1,maxVersion:X=40,minEcl:O=0,maxEcl:R=3}={}){let T=h,I=O,E;if(q.numeric.charCost("1")*_.length>P(X,I)*8)throw new Error("Data too long");for(;T<=X;T++){let N=P(T,I)*8;if(T==h||T==10||T==27)E=p(_,T);if(E&&E.cost<=N)break}if(!E||E.cost>P(T,I)*8||T>X)throw new Error("Data too long");for(let N=I+1;N<=R;N++)if(E.cost<=P(T,N)*8)I=N;else break;return{version:T,ecl:I,codewords:L(_,E.steps,T,I),cost:E.cost,steps:E.steps,strategy:S(E.steps),budget:P(T,I)*8}}function S(_){let h=_.map((R)=>["byte","numeric","alpha","kanji"].indexOf(R)),X=Math.ceil(h.length/4),O=new Uint8Array(X);for(let R=0;R<h.length;R++){let T=Math.floor(R/4),I=(3-R%4)*2;O[T]|=(h[R]&3)<<I}return O}function k(_,h,X){let O=P(h,X)*8,R=_.length,T=[{cost:0,steps:[],mode:""}];for(let I=0;I<R;I++){let E=[];for(let N of T)for(let D of["numeric","alpha","byte"]){let J=q[D].charCost(_[I]);if(J===1/0)continue;let H=N.mode===D?0:4+q[D].numCharCountBits(h),Z=N.cost+H+J;if(Z>O)continue;E.push({cost:Z,steps:[...N.steps,D],strategy:S(N.steps),mode:D})}T=E}return T}function p(_,h){let X=_.length,O=Array(X+1).fill().map(()=>({}));O[0]={"":{cost:0,steps:[]}};let R=0;for(let N=1;N<=X;N++)for(let D in O[N-1]){let J=O[N-1][D];for(let H of["numeric","alpha","byte"]){let Z=q[H].charCost(_[N-1]);if(Z===1/0)continue;let Y=D===H?0:4+q[H].numCharCountBits(h),Q=J.cost+Y+Z;if(!O[N][H]||Q<O[N][H].cost)O[N][H]={cost:Q,steps:[...J.steps,H]}}}let T=O[X],I=1/0,E="";for(let N in T)if(T[N].cost<I)I=T[N].cost,E=N;return T[E]?{steps:T[E].steps,cost:T[E].cost}:null}function L(_,h,X,O){let R=g(_,h),T=[];for(let{mode:W,str:K}of R){U(q[W].modeBits,4,T),U(K.length,q[W].numCharCountBits(X),T);for(let F of q[W].write(K))T.push(F)}let I=P(X,O)*8;U(0,Math.min(4,I-T.length),T),U(0,(8-T.length%8)%8,T);for(let W=236;T.length<I;W^=253)U(W,8,T);let E=[];while(E.length*8<T.length)E.push(0);T.forEach((W,K)=>E[K>>>3]|=W<<7-(K&7));let N=A[O].num_ecc_blocks[X],D=A[O].codewords_per_block[X],J=Math.floor(C(X)/8),H=N-J%N,Z=Math.floor(J/N),Y=[],Q=w(D);for(let W=0,K=0;W<N;W++){let F=E.slice(K,K+Z-D+(W<H?0:1));K+=F.length;let b=B(F,Q);if(W<H)F.push(0);Y.push(F.concat(b))}let V=[];for(let W=0;W<Y[0].length;W++)Y.forEach((K,F)=>{if(W!=Z-D||F>=H)V.push(K[W])});return new Uint8Array(V)}function C(_){let h=(16*_+128)*_+64;if(_>=2){let X=Math.floor(_/7)+2;h-=(25*X-10)*X-55,h-=_>=7?36:0}return h}function P(_,h){return Math.floor(C(_)/8)-A[h].codewords_per_block[_]*A[h].num_ecc_blocks[_]}function g(_="",h=[]){let X=[],O=h[0],R=0;for(let T=1;T<=_.length;T++)if(T>=_.length||h[T]!=O)X.push({mode:O,str:_.slice(R,T)}),O=h[T],R=T;return X}function N2(_,h,{capacity:X=20,ecl:O=0,version:R=2}={}){let T=new M(X),I=[];for(let E of _){let D=k(E,R,O).map((J)=>L(E,J.steps,R,O));for(let J of D)for(let H=0;H<8;H++){let Y=new j({version:R,ecl:O,mask:H,codewords:J}),{score:Q,obj:V}=h(Y);T.consider(Q,{qr:j.save(Y),obj:V,item:E})}}return T.extractAll().map((E)=>({score:E.score,qr:E.object.qr,computed:E.object.obj,data:E.object.item}))}function D2(_="url",h="https://qrs.art",X={}){return f[_](h,X)}function H2(_={},{start:h=0,stride:X=1,limit:O=null,loop:R=null}={}){let{total:T,get:I}=_;if(O==null)O=T;if(R==null)R=T;let E=[];for(let N=0;N<O;N++){let D=(h+N*X)%R;if(D>=T)continue;E.push(I(D))}return E}export{N2 as search,D2 as permute,c as optimalStrategy,L as constructCodewords,H2 as batch,k as allStrategies};
